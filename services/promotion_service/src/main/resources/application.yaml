spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/promotion_db
    username: admin
    password: promo123!
    driver-class-name: org.postgresql.Driver
  kafka:
    # FIX: Change '9092' to 'localhost:9092'
    bootstrap-servers: localhost:9092

    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      acks: all
      retries: 3

    consumer:
      group-id: mock-verifier-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer

mybatis:
  type-aliases-package: com.foodapp.promotion_service.domain.model
  mapper-locations: classpath:mapper/*.xml
  configuration:
    map-underscore-to-camel-case: true

flyway:
  enabled: true
  baseline-on-migrate: true
  locations: classpath:db/migration
  validate-on-migrate: false  # Set to false temporarily for repair

server:
  port: 8901

app:
  security:
    role-mappings:
      REVIEWER:
        - manager_bob
        - manager_sara
        - manager_atif
      PUBLISHER:
        - publisher_charlie
        - publisher_adam

  kafka:
    topic: promotion-updates # Define topic name here
